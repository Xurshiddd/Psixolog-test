import{d as b,c as a,a as l,u as r,h as k,w as i,b as e,o,F as u,r as h,t as d,e as y,f as m,l as v,g as w,i as $}from"./app-DYtI0PZT.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-JVZgN7dn.js";import{_ as T,a as C,b as B,c as N,d as V}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BgZ2vXV7.js";import{_ as F}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CfYj8c3I.js";import{_ as I}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-uCnpZJBE.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-DZaUcSsc.js";import"./createLucideIcon-BYUEJK_p.js";import"./useForwardPropsEmits-k_56YhWg.js";import"./VisuallyHidden-z1eXLbHj.js";import"./index-BgSHLisI.js";import"./useForwardExpose-yFOKGhJu.js";import"./index-B0R16HDv.js";const L={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},S={class:"rounded-md border bg-card text-card-foreground shadow-sm"},X={class:"relative w-full overflow-auto"},j={class:"w-full caption-bottom text-sm"},z={class:"[&_tr:last-child]:border-0"},M={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0 font-medium"},A={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},E={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},G={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},K={key:0},R={key:1,class:"text-muted-foreground"},Y={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},q={key:0},H={key:1,class:"text-muted-foreground"},J={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},O={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},P={class:"grid gap-4 py-4 max-h-[60vh] overflow-y-auto"},Q={class:"font-semibold mb-2"},U={class:"text-sm text-muted-foreground whitespace-pre-wrap"},W={key:1,class:"text-muted-foreground text-sm"},Z={class:"p-4 align-middle [&:has([role=checkbox])]:pr-0"},ee={key:0},fe=b({__name:"Index",props:{students:{}},setup(f){const p=[{title:"Talabalar",href:"/admin/students"}],_=$(null),x=n=>new Date(n).toLocaleDateString(),g=n=>{_.value=n};return(n,s)=>(o(),a(u,null,[l(r(k),{title:"Talabalar"}),l(D,{breadcrumbs:p},{default:i(()=>[e("div",L,[s[5]||(s[5]=e("div",{class:"flex items-center justify-between"},[e("h1",{class:"text-2xl font-bold tracking-tight"},"Talabalar")],-1)),e("div",S,[e("div",X,[e("table",j,[s[4]||(s[4]=e("thead",{class:"[&_tr]:border-b"},[e("tr",{class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Ism Familiya "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Login "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Telefon "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Guruh "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Yo'nalish "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Ro'yxatdan o'tgan sana "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Xulosalar "),e("th",{class:"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0"}," Amallar ")])],-1)),e("tbody",z,[(o(!0),a(u,null,h(f.students,t=>(o(),a("tr",{key:t.id,class:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"},[e("td",M,d(t.name),1),e("td",A,d(t.login),1),e("td",E,d(t.phone),1),e("td",G,[t.group?(o(),a("span",K,d(t.group.name),1)):(o(),a("span",R,"-"))]),e("td",Y,[t.speciality?(o(),a("span",q,d(t.speciality.name),1)):(o(),a("span",H,"-"))]),e("td",J,d(x(t.created_at)),1),e("td",O,[t.users_tests_results&&t.users_tests_results.length>0?(o(),y(r(T),{key:0},{default:i(()=>[l(r(F),{"as-child":""},{default:i(()=>[l(r(I),{variant:"outline",size:"sm",onClick:c=>g(t)},{default:i(()=>[...s[0]||(s[0]=[m(" Xulosa ",-1)])]),_:1},8,["onClick"])]),_:2},1024),l(r(C),{class:"sm:max-w-[425px]"},{default:i(()=>[l(r(B),null,{default:i(()=>[l(r(N),null,{default:i(()=>[m("Diagnostika Xulosalari - "+d(t.name),1)]),_:2},1024),l(r(V),null,{default:i(()=>[...s[1]||(s[1]=[m(" Talaba uchun yozilgan barcha diagnostika xulosalari. ",-1)])]),_:1})]),_:2},1024),e("div",P,[(o(!0),a(u,null,h(t.users_tests_results,c=>(o(),a("div",{key:c.id,class:"border-b pb-4 last:border-0 last:pb-0"},[e("h4",Q,"Modul ID: "+d(c.pivot.module_id),1),e("p",U,d(c.pivot.diagnosis),1)]))),128))])]),_:2},1024)]),_:2},1024)):(o(),a("span",W,"-"))]),e("td",Z,[l(r(v),{href:`/admin/students/${t.id}`,class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2"},{default:i(()=>[...s[2]||(s[2]=[m(" Ko'rish ",-1)])]),_:1},8,["href"])])]))),128)),f.students.length===0?(o(),a("tr",ee,[...s[3]||(s[3]=[e("td",{colspan:"8",class:"p-4 align-middle text-center"}," Talabalar topilmadi. ",-1)])])):w("",!0)])])])])])]),_:1})],64))}});export{fe as default};

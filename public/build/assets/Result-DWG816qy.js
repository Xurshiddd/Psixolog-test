import{d as k,m as v,c as t,a as p,u as r,h as y,w,b as e,t as l,o,F as g,f as x,j as m,n as j,p as q,e as N,q as S,k as $}from"./app-DJ58biVV.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-CDwrS4K2.js";import"./AppSidebarHeader.vue_vue_type_script_setup_true_lang-BVCRi08n.js";import"./createLucideIcon-Dskph00x.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-ld534BQ-.js";import"./useForwardPropsEmits-CDR9MvgE.js";import"./VisuallyHidden-BnAMFRDd.js";import"./index-GIJKTntx.js";import"./useForwardExpose-0Ag5ksjJ.js";import"./index-8hKDQZPy.js";const D={class:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4"},T={class:"text-2xl font-bold tracking-tight mb-4"},V={class:"space-y-6"},A={class:"mb-4"},B={class:"font-bold text-lg mr-2"},F={class:"text-lg font-medium"},X={key:0,class:"mb-4"},J=["src"],M={key:1,class:"p-4 rounded-md border bg-slate-50 dark:bg-slate-900"},z={class:"text-base"},E={key:2,class:"grid gap-3"},I={key:0,class:"text-sm font-semibold text-blue-600 dark:text-blue-400"},L={class:"rounded-lg border bg-card p-6 shadow-sm"},O={class:"mb-4"},Q={key:0,class:"text-sm text-red-500 mt-1"},R={class:"flex justify-end"},U=["disabled"],G={key:0},H={key:1},K={key:0,class:"mt-8 pt-6 border-t"},P={class:"bg-green-50 dark:bg-green-900/10 p-4 rounded-md border border-green-100 dark:border-green-900/20"},W={class:"whitespace-pre-wrap text-sm"},re=k({__name:"Result",props:{student:{},module:{},answers:{},diagnosis:{}},setup(a){const d=a,h=[{title:"Talabalar",href:"/admin/students"},{title:d.student.name,href:`/admin/students/${d.student.id}`},{title:d.module.name,href:"#"}],n=v({diagnosis:d.diagnosis||""}),_=()=>{$.post(`/admin/students/${d.student.id}/results/${d.module.id}/diagnosis`,{diagnosis:n.diagnosis})},c=(f,i)=>{const s=d.answers[f];return s&&Array.isArray(s)?s.some(b=>b.test_option_id===i):!1};return(f,i)=>(o(),t(g,null,[p(r(y),{title:`${a.module.name} - Natijalar`},null,8,["title"]),p(C,{breadcrumbs:h},{default:w(()=>[e("div",D,[e("h1",T,l(a.module.name)+" - Natijalar",1),e("div",V,[(o(!0),t(g,null,x(a.module.tests,(s,b)=>(o(),t("div",{key:s.id,class:"rounded-lg border bg-card p-6 shadow-sm"},[e("div",A,[e("span",B,l(b+1)+".",1),e("span",F,l(s.question),1)]),s.image?(o(),t("div",X,[e("img",{src:"/storage/"+s.image,alt:"Question Image",class:"max-w-full h-auto rounded-md max-h-96 object-contain"},null,8,J)])):m("",!0),s.type==="text"?(o(),t("div",M,[i[1]||(i[1]=e("p",{class:"font-medium text-sm text-muted-foreground mb-1"},"Talaba javobi:",-1)),e("p",z,l(a.answers[s.id]?.[0]?.answer||"Javob berilmagan"),1)])):(o(),t("div",E,[(o(!0),t(g,null,x(s.options,u=>(o(),t("div",{key:u.id,class:j(["p-3 rounded-md border flex justify-between items-center",{"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":c(s.id,u.id),"bg-white dark:bg-slate-900":!c(s.id,u.id)}])},[e("span",null,l(u.option_text),1),c(s.id,u.id)?(o(),t("span",I," (Tanlangan) ")):m("",!0)],2))),128))]))]))),128)),e("div",L,[i[4]||(i[4]=e("h2",{class:"text-xl font-bold mb-4"},"Diagnostika Xulosasi",-1)),e("form",{onSubmit:q(_,["prevent"])},[e("div",O,[i[2]||(i[2]=e("label",{for:"diagnosis",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Xulosa matni ",-1)),N(e("textarea",{id:"diagnosis","onUpdate:modelValue":i[0]||(i[0]=s=>r(n).diagnosis=s),rows:"6",class:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Diagnostika xulosasini kiriting..."},null,512),[[S,r(n).diagnosis]]),r(n).errors.diagnosis?(o(),t("div",Q,l(r(n).errors.diagnosis),1)):m("",!0)]),e("div",R,[e("button",{type:"submit",class:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",disabled:r(n).processing},[r(n).processing?(o(),t("span",G,"Saqlanmoqda...")):(o(),t("span",H,"Saqlash"))],8,U)])],32),a.diagnosis?(o(),t("div",K,[i[3]||(i[3]=e("h3",{class:"text-lg font-semibold mb-2 text-green-700 dark:text-green-400"},"Joriy Xulosa:",-1)),e("div",P,[e("p",W,l(a.diagnosis),1)])])):m("",!0)])])])]),_:1})],64))}});export{re as default};
